#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Checking file sizes before push..."
npm run check-size
if [ $? -ne 0 ]; then
  echo "âŒ File size check failed! Refactor files exceeding 300 lines before pushing."
  exit 1
fi

echo "âœ… File size check passed!"
echo "ğŸ” Running linter..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ Linting failed! Fix lint errors before pushing."
  exit 1
fi

echo "âœ… Linting passed!"
echo "ğŸ—ï¸ Building project..."
npm run build | cat
if [ $? -ne 0 ]; then
  echo "âŒ Build failed! Fix build errors before pushing."
  exit 1
fi

echo "âœ… Pre-push checks completed successfully!"


